[细说 Form (表单)](http://www.cnblogs.com/fish-li/archive/2011/07/17/2108884.html)


##F5刷新问题并不是WebForms的错

刚才说到了MVC框架，再来说说WebForms框架。以前时常听到有些人在抱怨用WebForms的表单有F5的刷新重复提交问题。 在此我想为WebForms说句公道话：
这个问题并不是WebForms本身的问题，是浏览器的问题， 只是如果您一直使用WebForms的较传统用法，是容易产生这个现象的。那么什么叫做【传统用法】呢？
这里我就给个我自己的定义吧： 所谓的WebForms的传统用法是说：您的页面一直使用服务器控件的提交方式(postback)，在事件处理后，页面又进入再一次的重现过程，
 或者说：当前页面一直在使用POST方式向当前页面提交。 

那么如何避开这个问题呢？办法大致有2种：

### 1. PRG模式(Post-Redirect-Get)，在事件处理后，调用重定向的操作Response.Redirect()
， 而不要在事件处理的后期再去给一些服务器控件绑定数据项了！

建议：按钮事件只做一些提交数据的处理，将数据绑定的操作放在OnPreRender方法中处理，而不是写在每个事件中（遍地开花）。 
不过，这种方式下，可能伟大的ViewState就发挥不了太大的作用了，如果您发现ViewState没用了，在Web.config中全局关掉后，
 又发现很多服务器控件的高级事件又不能用了！嗯，杯具有啊。
这个话题说下去又没完没了，到此为止吧，不过，千万不要以为这种方法是在倒退哦。
 
###2. 以Ajax方式提交表单，请继续阅读本文。